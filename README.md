# Моделирование ПИД регулятора

Сегодня не мог уснуть. На фоне работал кондиционер который отчаянно пытался удержать температуру в одном значении. 
Но не справлялся. Перегревал выше температуры и потом отключался от чего в комнате становилось холодно за пару минут,
потом включался и снова перегревал выше требуемого. Я невольно вспомнил как это должно в технике решаться -
с помощью ПИД регулятора.

Сперва я пытался понять какая именно компонента у него скорее всего сбоит. Скорее всего пропорциональная слишком большая. 
Просто помню это с лабораторных в универе. Слишком большой квант дается вверх. Меньше не может и приходится потом выключаться. 
Вот и идет колебательный процесс.

Но потом мне захотелось больше и я решил построить полную модель процесса и проверить свои знания.

## 1. Модель объекта
Сперва нужна модель какого-то объекта, которым нужно управлять. При чем интересно управлять объектом 
с нелинейной функцией. С моделью температуры возиться не хотелось. Это не самая моя сильная сторона. 
Самое простое - взять кинематическое движение по прямой при приложении силы. 
Чтобы сделать все интереснее я решил учитывать:
- инерцию
- силу трения

Тогда объект будет нелинейно двигаться и плавно останавливаться если сила перестанет действовать.
Для этого создаем класс ObjectWithInertia с методом apply_forcе() для каждого момента времени:
Уравнение движения: F = ma -> a = (F - F_friction) / m
Сила трения: F_friction = -friction_coefficient * velocity


## 2. Передаточная функция
Чтобы добавить еще больше трудностей нам нужна дополнительная нелинейность, а именно в акторе, который будет 
реализовывать сигнал управления в какую-то физическую величину (это может быть двигатель, нагреватель), в данном
случае физическая величина - сила, прикладываемая к объекту для его ускорения.

## 3. Модель регулятора

## 4. Поиск коэффициентов
Рассчитываем коэффициенты регулятора по методу Зиглера-Никольса
Частота устойчивых колебаний: 25.85
Период колебаний T: 2
Значит kp = 0.4 * 25.85 = 10.34
ki = (1.2 * 10.34)/2 = 6.204

## 5. Вуаля